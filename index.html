<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Symulacja Półki</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background-color: #f9f9f9;
    }

    .container {
      max-width: 900px;
      margin: 20px auto;
      padding: 0 15px;
      box-sizing: border-box;
    }

    h1 {
      text-align: center;
      font-size: 1.8em;
    }

    .calculator {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      background: #efefef;
      padding: 20px;
      border-radius: 10px;
    }

    .input-section, .output-section {
      flex: 1 1 300px;
    }

    .input-section label,
    .input-section select,
    .input-section input {
      display: block;
      margin-bottom: 12px; /* odstęp między polami */
    }

    /* osobno dla .output-section dodaj: */
    .output-section {
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .input-section label {
      display: block;
      margin: 10px 0 5px;
    }

    .segment-input {
      width: 100%;
      padding: 5px;
      font-size: 1em;
    }

    .button-wrapper {
      margin-top: 15px;
    }

    .calculate-button {
      padding: 12px 24px;
      font-size: 1.1em;
      background-color: #4CAF50;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }

    .results-container {
      display: flex;
      flex-direction: column;
      gap: 20px;
      margin-top: 30px;
    }

    .section-box {
      background: #efefef;
      padding: 15px;
      border-radius: 10px;
    }

    .section-title {
      font-weight: bold;
      margin-bottom: 10px;
    }

    .visualization {
      display: flex;
      flex-direction: column;
      gap: 10px;
      align-items: center;
    }

    .shelf-row {
      display: flex;
      width: 100%;
      box-sizing: border-box;
      position: relative;
      align-items: center;
    }

    .bracket {
      width: 10px;
      height: 20px;
      display: inline-block;
      box-sizing: border-box;
    }

    .bracket.left, .bracket.right {
      background-color: green;
    }

    .bracket.connector {
      background-color: red;
    }

    .bracket.support {
      display: inline-block;
      vertical-align: top;
      border: 1px solid red;
      box-sizing: border-box;
      position: static; /* zmiana na statyczne pozycjonowanie */
      background-color: yellow;
      height: 20px;
      width: 8px;
      margin: 0 2px;
      z-index: 1;
    }

    .rod {
      height: 20px;
      background-color: #888;
      display: inline-block;
      position: relative;
      border-radius: 0;
    }

    .output-columns {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
    }

    .output-column {
      flex: 1 1 300px;
      background: #efefef;
      padding: 15px;
      border-radius: 10px;
    }

    .bracket-info span {
      display: block;
      margin-bottom: 5px;
    }

    .green { color: green; }
    .red { color: red; }
    .yellow { color: goldenrod; }

    /* Added container for total length and capacity side by side */
    .length-capacity-container {
      display: flex;
      gap: 40px;
      align-items: baseline;
    }

    .length-capacity-container > div {
      font-size: 1.2em;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Symulacja Półki</h1>
    <div class="calculator">
      <div class="input-section">
        <!-- Twoje pola input/select itp. -->
      </div>
      <div class="output-section">
        <div id="visualization" class="visualization"></div>
      </div>
    </div>
    <div class="results-container">
      <!-- Wyniki -->
    </div>
  </div>

  <script>
    const ROD_LENGTHS = {
      50: 500,
      75: 700,
      100: 950
    };

    // Przykładowe dane testowe (możesz zastąpić własnymi)
    const segments = [50, 75, 100, 50];
    const rodColor = 'gray';

    function renderVisualization(segments, color) {
      const container = document.getElementById('visualization');
      container.innerHTML = '';
      const row = document.createElement('div');
      row.className = 'shelf-row';

      const left = document.createElement('div');
      left.className = 'bracket left';
      row.appendChild(left);

      segments.forEach((seg, index) => {
        const colorCode = color === 'gray' ? '#666' : '#ccc';

        if (seg === 75 || seg === 100) {
          // Połówki rury
          const halfWidth = ROD_LENGTHS[seg] / 10; // połowa szerokości, bo dzielimy na 2

          // Lewa połówka rury
          const leftHalf = document.createElement('div');
          leftHalf.className = 'rod';
          leftHalf.style.backgroundColor = colorCode;
          leftHalf.style.width = halfWidth + 'px';
          row.appendChild(leftHalf);

          // Żółty znacznik - wspornik
          const support = document.createElement('div');
          support.className = 'bracket support';
          // szerokość i wysokość nadawane w CSS
          row.appendChild(support);

          // Prawa połówka rury
          const rightHalf = document.createElement('div');
          rightHalf.className = 'rod';
          rightHalf.style.backgroundColor = colorCode;
          rightHalf.style.width = halfWidth + 'px';
          row.appendChild(rightHalf);
        } else {
          // Cała rura (np. 50cm)
          const rod = document.createElement('div');
          rod.className = 'rod';
          rod.style.backgroundColor = colorCode;
          rod.style.width = (ROD_LENGTHS[seg] / 5) + 'px';
          row.appendChild(rod);
        }

        // Dodajemy łącznik jeśli nie ostatni segment
        if (index < segments.length - 1) {
          const connector = document.createElement('div');
          connector.className = 'bracket connector';
          row.appendChild(connector);
        }
      });

      const right = document.createElement('div');
      right.className = 'bracket right';
      row.appendChild(right);

      container.appendChild(row);
    }

    // Wywołanie przykładowe
    renderVisualization(segments, rodColor);
  </script>
</body>
</html>
