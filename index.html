<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Kalkulator Półek na filamenty z systemu IKEA Komplement</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background-color: #f9f9f9;
    }

    .container {
      max-width: 900px;
      margin: 20px auto;
      padding: 0 15px;
      box-sizing: border-box;
    }

    h1 {
      text-align: center;
      font-size: 1.8em;
    }

    .calculator {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      background: #efefef;
      padding: 20px;
      border-radius: 10px;
    }

    .input-section, .output-section {
      flex: 1 1 300px;
    }

    .input-section label {
      display: block;
      margin: 10px 0 5px;
    }

    .segment-input {
      width: 100%;
      padding: 5px;
      font-size: 1em;
    }

    .button-wrapper {
      margin-top: 15px;
      position: relative;
    }

    .calculate-button {
      padding: 12px 24px;
      font-size: 1.1em;
      background-color: #4CAF50;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }

    .language-toggle {
      position: absolute;
      top: 0;
      right: 0;
      background-color: #2196F3;
      border: none;
      color: white;
      padding: 6px 12px;
      font-size: 0.9em;
      border-radius: 6px;
      cursor: pointer;
    }

    .results-container {
      display: flex;
      flex-direction: column;
      gap: 20px;
      margin-top: 30px;
    }

    .section-box {
      background: #efefef;
      padding: 15px;
      border-radius: 10px;
    }

    .section-title {
      font-weight: bold;
      margin-bottom: 10px;
    }

    .visualization {
      display: flex;
      flex-direction: column;
      gap: 10px;
      align-items: center;
    }

    .shelf-row {
      display: flex;
      width: 100%;
      box-sizing: border-box;
      position: relative;
    }

    .bracket {
      width: 10px;
      height: 20px;
      display: inline-block;
      border-radius: 0;
    }

    .bracket.left, .bracket.right {
      background-color: green;
    }

    .bracket.connector {
      background-color: red;
    }

    .bracket.support {
      background-color: yellow;
      width: 10px;
      height: 20px;
      position: absolute;
      top: 0;
    }

    .rod {
      height: 20px;
      background-color: #888;
      display: inline-block;
      position: relative;
      border-radius: 0;
    }

    .output-columns {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
    }

    .output-column {
      flex: 1 1 300px;
      background: #efefef;
      padding: 15px;
      border-radius: 10px;
    }

    .bracket-info span {
      display: block;
      margin-bottom: 5px;
    }

    .green { color: green; }
    .red { color: red; }
    .yellow { color: goldenrod; }
  </style>
</head>
<body>
  <div class="container">
    <h1 id="title">Kalkulator Półek na filamenty z systemu IKEA Komplement</h1>
    <div class="calculator">
      <div class="input-section">
        <label for="rodColor" id="labelRodColor">Kolor drążków:</label>
        <select id="rodColor" class="segment-input">
          <option value="white" id="optionWhite">Biały</option>
          <option value="gray" id="optionGray">Szary</option>
        </select>
        <label id="labelSegments">Wybierz swoje segmenty:</label>
        <label for="seg50" id="labelSeg50">Segmenty z IKEA Komplement 50 cm:</label>
        <input id="seg50" type="number" min="0" value="0" class="segment-input" />
        <label for="seg75" id="labelSeg75">Segmenty z IKEA Komplement 75 cm:</label>
        <input id="seg75" type="number" min="0" value="0" class="segment-input" />
        <label for="seg100" id="labelSeg100">Segmenty z IKEA Komplement 100 cm:</label>
        <input id="seg100" type="number" min="0" value="0" class="segment-input" />
      </div>
      <div class="output-section">
        <div class="button-wrapper">
          <button class="calculate-button" onclick="calculate()" id="btnCalculate">Oblicz</button>
          <button class="language-toggle" onclick="toggleLanguage()" id="btnToggleLang">EN</button>
        </div>
      </div>
    </div>

    <div class="results-container">
      <div class="section-box">
        <div class="section-title" id="lengthTitle">Długość całkowita</div>
        <div id="shelfLength"></div>
      </div>
      <div class="section-box">
        <div class="section-title" id="visualizationTitle">Wizualizacja</div>
        <div id="visualization" class="visualization"></div>
      </div>
      <div class="output-columns">
        <div class="output-column">
          <div class="section-title" id="bracketTitle">Wsporniki do wydrukowania</div>
          <div id="bracketCounts" class="bracket-info"></div>
        </div>
        <div class="output-column">
          <div class="section-title" id="ikeaTitle">Zakupy w IKEA</div>
          <div id="ikeaList"></div>
        </div>
      </div>
    </div>
  </div>

  <script>
    const ROD_LENGTHS = {
      '50': 450,
      '75': 700,
      '100': 950
    };

    const IKEA_CODES = {
      white: {
        '50': '902.568.93',
        '75': '402.568.95',
        '100': '302.568.91'
      },
      gray: {
        '50': '402.569.42',
        '75': '002.569.44',
        '100': '802.569.40'
      }
    };

    // Language strings, index matches order of your txt
    const STRINGS = {
      pl: [
        'Kalkulator Półek na filamenty z systemu IKEA Komplement',
        'Kolor drążków:',
        'Biały',
        'Szary',
        'Wybierz swoje segmenty:',
        'Segmenty z IKEA Komplement 50 cm:',
        'Segmenty z IKEA Komplement 75 cm:',
        'Segmenty z IKEA Komplement 100 cm:',
        'Oblicz',
        'Długość całkowita',
        'Wizualizacja',
        'Wsporniki do wydrukowania',
        'Zakupy w IKEA',
        'Wspornik lewy:',
        'Wspornik prawy:',
        'Wspornik łączący:',
        'Wspornik podtrzymujący:'
      ],
      en: [
        'IKEA Komplement Filament Rack System Configurator',
        'Choose Your clothes rails color:',
        'White',
        'Grey',
        'Pick your singular shelf segments:',
        'Segments built with IKEA Komplement 50 cm:',
        'Segments built with IKEA Komplement 75 cm:',
        'Segments built with IKEA Komplement 100 cm:',
        'Calculate',
        'Total length',
        'Visualization',
        'Holders to 3Dprint',
        'IKEA shopping list',
        'Holder Left:',
        'Holder Right:',
        'Holder Connector:',
        'Holder Middle:'
      ]
    };

    let currentLang = 'pl';

    function setLanguageStrings() {
      const s = STRINGS[currentLang];
      document.getElementById('title').innerText = s[0];
      document.getElementById('labelRodColor').innerText = s[1];
      document.getElementById('optionWhite').innerText = s[2];
      document.getElementById('optionGray').innerText = s[3];
      document.getElementById('labelSegments').innerText = s[4];
      document.getElementById('labelSeg50').innerText = s[5];
      document.getElementById('labelSeg75').innerText = s[6];
      document.getElementById('labelSeg100').innerText = s[7];
      document.getElementById('btnCalculate').innerText = s[8];
      document.getElementById('lengthTitle').innerText = s[9];
      document.getElementById('visualizationTitle').innerText = s[10];
      document.getElementById('bracketTitle').innerText = s[11];
      document.getElementById('ikeaTitle').innerText = s[12];
    }

   
